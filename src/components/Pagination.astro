---
import LinkButton from "./LinkButton.astro";

export interface Props {
  currentPage: number;
  totalPages: number;
  prevUrl: string;
  nextUrl: string;
}

const { currentPage, totalPages, prevUrl, nextUrl } = Astro.props;

const prev = currentPage > 1 ? "" : "disabled";
const next = currentPage < totalPages ? "" : "disabled";
---

{
  totalPages > 1 && (
    <nav class="pagination-wrapper" aria-label="Pagination">
      <LinkButton
        disabled={prev === "disabled"}
        href={prevUrl}
        className={`mr-4 select-none ${prev}`}
        ariaLabel="Previous"
      >
        <span class="arrow" aria-hidden="true">
          ←
        </span>
        Prev
      </LinkButton>
      <span class="page-count" aria-live="polite">
        ({currentPage} of {totalPages})
      </span>
      <LinkButton
        disabled={next === "disabled"}
        href={nextUrl}
        className={`ml-4 select-none ${next}`}
        ariaLabel="Next"
      >
        Next
        <span class="arrow" aria-hidden="true">
          →
        </span>
      </LinkButton>
    </nav>
  )
}

<style>
  .pagination-wrapper {
    margin-bottom: 2rem;
    margin-top: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    flex-wrap: nowrap;
    white-space: nowrap;
  }
  .pagination-wrapper a,
  .pagination-wrapper button {
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    white-space: nowrap;
  }
  .arrow {
    font-size: 1.05em;
    line-height: 1;
  }
  .page-count {
    opacity: 0.8;
    font-variant-numeric: tabular-nums;
  }
  .disabled {
    pointer-events: none;
    user-select: none;
    opacity: 0.5;
  }
  .disabled-svg {
    /* Removed group-hover utility that cannot be directly converted to CSS */
  }
</style>
